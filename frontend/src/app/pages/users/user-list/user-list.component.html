<div *ngIf="!(users | async)">
  <app-loader></app-loader>
</div>

<ng-container class="container-lg">

  <div class="card rounded shadow shadow-sm">
    <div class="card-header">
      <h4 class="float-left">Users</h4>
      <a [routerLink]="['/user-edit']" class="btn btn-sm btn-outline-secondary float-right mb-3">Add User</a>
    </div>

    <div class="card-body">
      <table *ngIf="(users | async)?.length > 0" class="table table-hover">
        <thead>
        <tr>
          <th>#</th>
          <th>Login</th>
          <th>Name</th>
          <th>Surname</th>
          <th>Role</th>
          <th></th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let user of (users | async); let i = index">
          <td>{{ i + 1  }}</td>
          <td>{{ user.login }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.surname }}</td>
          <td>{{ getRoleName(user.roleId) }}</td>
          <td>
            <a [routerLink]="['/user-edit/', user.id]" class="btn btn-outline-primary btn-sm float-right">
              Edit
            </a>
          </td>
          <td>
            <button (click)="delete(user.id, user.login)" class="btn btn-outline-danger btn-sm float-right">
              Delete
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</ng-container>
